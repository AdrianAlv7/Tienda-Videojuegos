{% extends "base.html" %}
{% block content %}
<h2>{{ accion }} Producto</h2>

<form method="POST" enctype="multipart/form-data" class="form-producto">
    <div class="mb-3">
        <label>Nombre:</label>
        <input type="text" name="nombre" value="{{ producto[1] if producto else '' }}" class="form-control" required>
    </div>

    <div class="mb-3">
        <label>Descripción:</label>
        <textarea name="descripcion" class="form-control" required>{{ producto[2] if producto else '' }}</textarea>
    </div>

    <div class="mb-3">
        <label>Imagen principal:</label>
        {% if producto and producto[4] %}
        <div class="mb-2">
            <img src="{{ url_for('static', filename='IMG/' ~ producto[4]) }}" width="120" style="border-radius: 8px;">
        </div>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" name="eliminar_imagen" id="eliminar_imagen">
            <label class="form-check-label" for="eliminar_imagen">Eliminar imagen actual</label>
        </div>
        {% endif %}
        <input class="form-control" type="file" id="imagen" name="imagen" accept="image/*">
    </div>

    <div class="mb-3">
        <label>Imágenes adicionales:</label>
        <input class="form-control" type="file" id="imagenes_extra" name="imagenes_extra" accept="image/*" multiple>
        <small class="text-muted">Puedes subir varias imágenes (Ctrl o Shift + clic)</small>
    </div>

    <div class="mb-3">
        <label>Precio:</label>
        <input type="number" step="0.01" name="precio" value="{{ producto[5] if producto else '' }}" class="form-control" required>
    </div>

    <button type="submit" class="btn btn-primary">{{ accion }}</button>
</form>
{% endblock %}
